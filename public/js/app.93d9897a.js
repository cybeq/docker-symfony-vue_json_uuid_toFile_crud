(function(){"use strict";var e={49875:function(e,t,n){var o=n(49242),s=n(73396);function r(e,t,n,o,r,a){const i=(0,s.up)("MessageComponent");return(0,s.wg)(),(0,s.j4)(i)}var a=n(87139);const i={style:{"text-align":"center"}},l={style:{display:"flex","align-items":"center","justify-content":"center"}},c=["disabled"],u=["hidden"],d=(0,s._)("span",{style:{color:"darkgreen"}},"JSON",-1),p=(0,s._)("h2",null,"Message",-1),f=(0,s._)("p",null,"has been sent.",-1);function h(e,t,n,r,h,m){const g=(0,s.up)("vue-json-pretty"),y=(0,s.up)("DxDataGrid"),v=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",i,[(0,s._)("div",l,[(0,s.wy)((0,s._)("textarea",{spellcheck:"false","onUpdate:modelValue":t[0]||(t[0]=e=>h.formFill=e),style:(0,a.j5)([m.isJSONValid,{"font-weight":"bold",width:"50%",height:"200px","max-height":"500px",display:"flex","align-self":"center","justify-content":"center"}]),class:"form-control"},null,4),[[o.nr,h.formFill]])]),(0,s._)("button",{disabled:!m.isJSONValid.boolean||this.formFill.length<3,onClick:t[1]||(t[1]=(...e)=>m.sendMessage&&m.sendMessage(...e)),type:"button",class:"btn btn-success",style:{"margin-block":"30px"}},"send ",8,c),(0,s._)("p",{hidden:m.isJSONValid.boolean,style:{padding:"0",margin:"0"}},[(0,s.Uk)("Wiadomość musi być w formacie "),d],8,u),(0,s.Wm)(g,{data:null,hidden:""}),(0,s._)("div",null,[(0,s.Wm)(y,{"data-source":this.dataSource,columns:this.columns},null,8,["data-source","columns"])])]),(0,s.Wm)(v,{show:h.show,onClose:m.closePopup},{default:(0,s.w5)((()=>[p,f])),_:1},8,["show","onClose"])],64)}const m={getMessages:function(){return fetch("http://127.0.0.1:8000/message/list").then((e=>e.json())).then((e=>e.messages)).catch((e=>(console.error(e),[])))},sendMessage:function(e){return fetch("http://127.0.0.1:8000/message/create",{method:"POST",headers:{"Content-Type":"application/json"},body:e}).then((e=>e.json())).then((e=>e)).catch((e=>(console.error(e),null)))}},g=e=>((0,s.dD)("data-v-47e8acde"),e=e(),(0,s.Cn)(),e),y={key:0,class:"popup"},v=g((()=>(0,s._)("div",{class:"popup-overlay"},null,-1))),b={class:"popup-content"};function w(e,t,n,o,r,a){return n.show?((0,s.wg)(),(0,s.iD)("div",y,[v,(0,s._)("div",b,[(0,s.WI)(e.$slots,"default",{},void 0,!0),(0,s._)("button",{type:"button",class:"btn btn-outline-success",onClick:t[0]||(t[0]=(...e)=>a.closePopup&&a.closePopup(...e))},"OK")])])):(0,s.kq)("",!0)}var O={name:"PopupComponent",props:{show:{type:Boolean,required:!0}},methods:{closePopup(){location.reload(),this.$emit("close")}}},_=n(40089);const k=(0,_.Z)(O,[["render",w],["__scopeId","data-v-47e8acde"]]);var j=k,S=n(25316),x=n.n(S),P=n(67121),M=n(38563),D={components:{VueJsonPretty:x(),Popup:j,DxDataGrid:P.v4},data(){return{formFill:"{}",messages:[],show:!1,dataSource:new M.Z({store:{type:"array",data:[{}],key:"UUID"}}),columns:[{width:350,dataField:"UUID",caption:"UUID",dataType:"string",cssClass:"bold-column"},{width:450,dataField:"content",caption:"Message",cellTemplate:function(e,t){const n=(0,o.ri)({data(){return{rowData:JSON.parse(t.data.content||"{}")}},render(){return(0,s.h)(x(),{data:this.rowData})}});n.mount(e)}}]}},computed:{isJSONValid(){return{color:C(this.formFill)?"darkgreen":"darkred",boolean:C(this.formFill)}}},mounted(){m.getMessages().then((e=>{this.messages=e,this.dataSource=new M.Z({store:{type:"array",data:this.messages,key:"UUID"}})})).catch((e=>{console.error(e)}))},methods:{sendMessage(){m.sendMessage(this.formFill).then(this.showPopup()).catch((e=>{console.log(e)}))},showPopup(){this.show=!0},closePopup(){this.show=!1}}};function C(e){try{JSON.parse(e)}catch(t){return!1}return!0}const F=(0,_.Z)(D,[["render",h]]);var U=F,J={name:"App",components:{MessageComponent:U}};const T=(0,_.Z)(J,[["render",r]]);var N=T;n(48052);(0,o.ri)(N).mount("#app")}},t={};function n(o){var s=t[o];if(void 0!==s)return s.exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,o,s,r){if(!o){var a=1/0;for(u=0;u<e.length;u++){o=e[u][0],s=e[u][1],r=e[u][2];for(var i=!0,l=0;l<o.length;l++)(!1&r||a>=r)&&Object.keys(n.O).every((function(e){return n.O[e](o[l])}))?o.splice(l--,1):(i=!1,r<a&&(a=r));if(i){e.splice(u--,1);var c=s();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[o,s,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var s,r,a=o[0],i=o[1],l=o[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(s in i)n.o(i,s)&&(n.m[s]=i[s]);if(l)var u=l(n)}for(t&&t(o);c<a.length;c++)r=a[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(u)},o=self["webpackChunkendpoints"]=self["webpackChunkendpoints"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(49875)}));o=n.O(o)})();
//# sourceMappingURL=app.93d9897a.js.map